(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34899,e=>{"use strict";var r=e.i(43476),s=e.i(71645);function t(){let[e,t]=(0,s.useState)([]),[a,d]=(0,s.useState)(""),[l,i]=(0,s.useState)("");(0,s.useEffect)(()=>{o()},[]);let o=()=>{let e=localStorage.getItem("orders");e&&t(JSON.parse(e))},n=(r,s)=>{let a=e.map(e=>e.id===r?{...e,status:s}:e);t(a),localStorage.setItem("orders",JSON.stringify(a))},c=e.filter(e=>{let r=!a||"physical"===a&&e.physical>0||"digital"===a&&e.digital>0,s=!l||e.status===l;return r&&s});return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Gestión de Pedidos"}),(0,r.jsxs)("div",{className:"mb-6 flex space-x-4",children:[(0,r.jsxs)("select",{value:a,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[(0,r.jsx)("option",{value:"",children:"Todos los tipos"}),(0,r.jsx)("option",{value:"physical",children:"Libro Físico"}),(0,r.jsx)("option",{value:"digital",children:"Libro Digital"})]}),(0,r.jsxs)("select",{value:l,onChange:e=>i(e.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[(0,r.jsx)("option",{value:"",children:"Todos los estados"}),(0,r.jsx)("option",{value:"pending",children:"Pendiente"}),(0,r.jsx)("option",{value:"processing",children:"Procesando"}),(0,r.jsx)("option",{value:"shipped",children:"Enviado"}),(0,r.jsx)("option",{value:"delivered",children:"Entregado"})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("table",{className:"w-full table-auto border-collapse",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"ID"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Cliente"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Productos"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Estado"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Fecha"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Acciones"})]})}),(0,r.jsx)("tbody",{children:0===c.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"6",className:"border border-gray-300 px-4 py-8 text-center text-gray-500",children:"No hay pedidos que coincidan con los filtros."})}):c.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.id}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.shipping?.name||"N/A"}),(0,r.jsxs)("td",{className:"border border-gray-300 px-4 py-2",children:[e.physical>0&&`F\xedsico: ${e.physical}`,e.physical>0&&e.digital>0&&", ",e.digital>0&&`Digital: ${e.digital}`]}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,r.jsx)("span",{className:`px-2 py-1 rounded ${(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(e.status)}`,children:"pending"===e.status?"Pendiente":"processing"===e.status?"Procesando":"shipped"===e.status?"Enviado":"Entregado"})}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsxs)("td",{className:"border border-gray-300 px-4 py-2",children:[(0,r.jsx)("a",{href:`/admin/orders/${e.id}`,className:"text-blue-500 hover:text-blue-700 mr-2",children:"Ver"}),"pending"===e.status&&(0,r.jsx)("button",{onClick:()=>n(e.id,"processing"),className:"text-green-500 hover:text-green-700 mr-2",children:"Procesar"}),"processing"===e.status&&(0,r.jsx)("button",{onClick:()=>n(e.id,"shipped"),className:"text-green-500 hover:text-green-700 mr-2",children:"Enviar"}),"shipped"===e.status&&(0,r.jsx)("button",{onClick:()=>n(e.id,"delivered"),className:"text-green-500 hover:text-green-700 mr-2",children:"Entregar"}),(0,r.jsx)("button",{className:"text-red-500 hover:text-red-700",children:"Cancelar"})]})]},e.id))})]})})]})}e.s(["default",()=>t])}]);