(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95811,e=>{"use strict";var s=e.i(43476),t=e.i(71645);function a(){let[e,a]=(0,t.useState)([]),[r,l]=(0,t.useState)([]),[d,n]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[x,m]=(0,t.useState)(null),[g,h]=(0,t.useState)("");(0,t.useEffect)(()=>{b(),p()},[]);let b=()=>{let e=localStorage.getItem("bookQuestions");e&&a(JSON.parse(e))},p=()=>{let e=localStorage.getItem("faq");e&&l(JSON.parse(e))},j=(s,t)=>{let r=e.map(e=>e.id===s?{...e,status:t}:e);a(r),localStorage.setItem("bookQuestions",JSON.stringify(r))},N=e.filter(e=>{let s=!d||e.type===d,t=!i||e.status===i;return s&&t});return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Gestión de Preguntas del Libro"}),(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Preguntas Recibidas"}),(0,s.jsxs)("div",{className:"mb-6 flex space-x-4",children:[(0,s.jsxs)("select",{value:d,onChange:e=>n(e.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[(0,s.jsx)("option",{value:"",children:"Todos los tipos"}),(0,s.jsx)("option",{value:"pregunta",children:"Pregunta sobre el libro"}),(0,s.jsx)("option",{value:"duda",children:"Duda general"}),(0,s.jsx)("option",{value:"soporte",children:"Soporte técnico"})]}),(0,s.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[(0,s.jsx)("option",{value:"",children:"Todos los estados"}),(0,s.jsx)("option",{value:"abierto",children:"Abierto"}),(0,s.jsx)("option",{value:"respondido",children:"Respondido"}),(0,s.jsx)("option",{value:"cerrado",children:"Cerrado"})]})]}),(0,s.jsx)("div",{className:"space-y-4",children:0===N.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No hay preguntas que coincidan con los filtros."}):N.map(e=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold",children:[e.name," - ",e.question]}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Email: ",e.email]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleString()})]}),(0,s.jsx)("span",{className:`px-2 py-1 rounded text-sm ${(e=>{switch(e){case"abierto":return"bg-red-100 text-red-800";case"respondido":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(e.status)}`,children:"abierto"===e.status?"Abierto":"respondido"===e.status?"Respondido":"Cerrado"})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{m(e),h(""),u(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Responder y Agregar a FAQ"}),(0,s.jsx)("button",{onClick:()=>j(e.id,"respondido"),className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Marcar como Respondido"}),(0,s.jsx)("button",{onClick:()=>j(e.id,"cerrado"),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cerrar"})]})]},e.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Preguntas Frecuentes (FAQ)"}),(0,s.jsx)("div",{className:"space-y-4",children:0===r.length?(0,s.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No hay preguntas frecuentes aún."}):r.map(e=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.question}),(0,s.jsx)("textarea",{value:e.answer,onChange:s=>{var t,a;let d;return t=e.id,a=s.target.value,void(l(d=r.map(e=>e.id===t?{...e,answer:a}:e)),localStorage.setItem("faq",JSON.stringify(d)))},className:"w-full p-2 border border-gray-300 rounded",rows:"3",placeholder:"Escribe la respuesta..."}),(0,s.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Creado: ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("button",{onClick:()=>{var s;let t;return s=e.id,void(l(t=r.filter(e=>e.id!==s)),localStorage.setItem("faq",JSON.stringify(t)))},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Eliminar FAQ"})})]},e.id))})]}),c&&x&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-2xl w-full mx-4",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Responder Pregunta"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h4",{className:"font-semibold mb-2",children:["Pregunta de ",x.name,":"]}),(0,s.jsx)("p",{className:"bg-gray-100 p-3 rounded",children:x.question})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tu Respuesta:"}),(0,s.jsx)("textarea",{value:g,onChange:e=>h(e.target.value),className:"w-full p-3 border border-gray-300 rounded",rows:"6",placeholder:"Escribe una respuesta detallada..."})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:()=>u(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),(0,s.jsx)("button",{onClick:()=>{if(!x||!g.trim())return;let e=[...r,{id:Date.now(),question:x.question,answer:g.trim(),createdAt:new Date().toISOString()}];l(e),localStorage.setItem("faq",JSON.stringify(e)),j(x.id,"respondido"),u(!1),m(null),h("")},disabled:!g.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:"Agregar a FAQ y Responder"})]})]})})]})}e.s(["default",()=>a])}]);