{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Volumes/WADEOW/PROYECTOS/LibroWeb/codigoLibroWeb/apps/web/app/admin/orders/page.js"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\n\nexport default function Orders() {\n  const [orders, setOrders] = useState([])\n  const [filterType, setFilterType] = useState('')\n  const [filterStatus, setFilterStatus] = useState('')\n\n  useEffect(() => {\n    loadOrders()\n  }, [])\n\n  const loadOrders = () => {\n    const storedOrders = localStorage.getItem('orders')\n    if (storedOrders) {\n      setOrders(JSON.parse(storedOrders))\n    }\n  }\n\n  const updateOrderStatus = (orderId, newStatus) => {\n    const updatedOrders = orders.map(order =>\n      order.id === orderId ? { ...order, status: newStatus } : order\n    )\n    setOrders(updatedOrders)\n    localStorage.setItem('orders', JSON.stringify(updatedOrders))\n  }\n\n  const filteredOrders = orders.filter(order => {\n    const matchesType = !filterType || (filterType === 'physical' && order.physical > 0) || (filterType === 'digital' && order.digital > 0)\n    const matchesStatus = !filterStatus || order.status === filterStatus\n    return matchesType && matchesStatus\n  })\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'pending': return 'bg-yellow-100 text-yellow-800'\n      case 'processing': return 'bg-blue-100 text-blue-800'\n      case 'shipped': return 'bg-green-100 text-green-800'\n      case 'delivered': return 'bg-gray-100 text-gray-800'\n      default: return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold mb-6\">Gestión de Pedidos</h1>\n\n        {/* Filtros */}\n        <div className=\"mb-6 flex space-x-4\">\n          <select\n            value={filterType}\n            onChange={(e) => setFilterType(e.target.value)}\n            className=\"border border-gray-300 rounded px-4 py-2\"\n          >\n            <option value=\"\">Todos los tipos</option>\n            <option value=\"physical\">Libro Físico</option>\n            <option value=\"digital\">Libro Digital</option>\n          </select>\n          <select\n            value={filterStatus}\n            onChange={(e) => setFilterStatus(e.target.value)}\n            className=\"border border-gray-300 rounded px-4 py-2\"\n          >\n            <option value=\"\">Todos los estados</option>\n            <option value=\"pending\">Pendiente</option>\n            <option value=\"processing\">Procesando</option>\n            <option value=\"shipped\">Enviado</option>\n            <option value=\"delivered\">Entregado</option>\n          </select>\n        </div>\n\n        {/* Tabla de pedidos */}\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <table className=\"w-full table-auto border-collapse\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">ID</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Cliente</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Productos</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Estado</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Fecha</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredOrders.length === 0 ? (\n                <tr>\n                  <td colSpan=\"6\" className=\"border border-gray-300 px-4 py-8 text-center text-gray-500\">\n                    No hay pedidos que coincidan con los filtros.\n                  </td>\n                </tr>\n              ) : (\n                filteredOrders.map((order) => (\n                  <tr key={order.id}>\n                    <td className=\"border border-gray-300 px-4 py-2\">{order.id}</td>\n                    <td className=\"border border-gray-300 px-4 py-2\">{order.shipping?.name || 'N/A'}</td>\n                    <td className=\"border border-gray-300 px-4 py-2\">\n                      {order.physical > 0 && `Físico: ${order.physical}`}\n                      {order.physical > 0 && order.digital > 0 && ', '}\n                      {order.digital > 0 && `Digital: ${order.digital}`}\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-2\">\n                      <span className={`px-2 py-1 rounded ${getStatusColor(order.status)}`}>\n                        {order.status === 'pending' ? 'Pendiente' :\n                         order.status === 'processing' ? 'Procesando' :\n                         order.status === 'shipped' ? 'Enviado' : 'Entregado'}\n                      </span>\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-2\">\n                      {new Date(order.createdAt).toLocaleDateString()}\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-2\">\n                      <a href={`/admin/orders/${order.id}`} className=\"text-blue-500 hover:text-blue-700 mr-2\">Ver</a>\n                      {order.status === 'pending' && (\n                        <button\n                          onClick={() => updateOrderStatus(order.id, 'processing')}\n                          className=\"text-green-500 hover:text-green-700 mr-2\"\n                        >\n                          Procesar\n                        </button>\n                      )}\n                      {order.status === 'processing' && (\n                        <button\n                          onClick={() => updateOrderStatus(order.id, 'shipped')}\n                          className=\"text-green-500 hover:text-green-700 mr-2\"\n                        >\n                          Enviar\n                        </button>\n                      )}\n                      {order.status === 'shipped' && (\n                        <button\n                          onClick={() => updateOrderStatus(order.id, 'delivered')}\n                          className=\"text-green-500 hover:text-green-700 mr-2\"\n                        >\n                          Entregar\n                        </button>\n                      )}\n                      <button className=\"text-red-500 hover:text-red-700\">Cancelar</button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}