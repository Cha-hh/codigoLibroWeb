module.exports=[34739,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)("");(0,c.useEffect)(()=>{i()},[]);let i=()=>{let a=localStorage.getItem("orders");a&&d(JSON.parse(a))},j=(b,c)=>{let e=a.map(a=>a.id===b?{...a,status:c}:a);d(e),localStorage.setItem("orders",JSON.stringify(e))},k=a.filter(a=>{let b=!e||"physical"===e&&a.physical>0||"digital"===e&&a.digital>0,c=!g||a.status===g;return b&&c});return(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Gestión de Pedidos"}),(0,b.jsxs)("div",{className:"mb-6 flex space-x-4",children:[(0,b.jsxs)("select",{value:e,onChange:a=>f(a.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[(0,b.jsx)("option",{value:"",children:"Todos los tipos"}),(0,b.jsx)("option",{value:"physical",children:"Libro Físico"}),(0,b.jsx)("option",{value:"digital",children:"Libro Digital"})]}),(0,b.jsxs)("select",{value:g,onChange:a=>h(a.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[(0,b.jsx)("option",{value:"",children:"Todos los estados"}),(0,b.jsx)("option",{value:"pending",children:"Pendiente"}),(0,b.jsx)("option",{value:"processing",children:"Procesando"}),(0,b.jsx)("option",{value:"shipped",children:"Enviado"}),(0,b.jsx)("option",{value:"delivered",children:"Entregado"})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full table-auto border-collapse",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"ID"}),(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Cliente"}),(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Productos"}),(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Estado"}),(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Fecha"}),(0,b.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Acciones"})]})}),(0,b.jsx)("tbody",{children:0===k.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:"6",className:"border border-gray-300 px-4 py-8 text-center text-gray-500",children:"No hay pedidos que coincidan con los filtros."})}):k.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:a.id}),(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:a.shipping?.name||"N/A"}),(0,b.jsxs)("td",{className:"border border-gray-300 px-4 py-2",children:[a.physical>0&&`F\xedsico: ${a.physical}`,a.physical>0&&a.digital>0&&", ",a.digital>0&&`Digital: ${a.digital}`]}),(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded ${(a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(a.status)}`,children:"pending"===a.status?"Pendiente":"processing"===a.status?"Procesando":"shipped"===a.status?"Enviado":"Entregado"})}),(0,b.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsxs)("td",{className:"border border-gray-300 px-4 py-2",children:[(0,b.jsx)("a",{href:`/admin/orders/${a.id}`,className:"text-blue-500 hover:text-blue-700 mr-2",children:"Ver"}),"pending"===a.status&&(0,b.jsx)("button",{onClick:()=>j(a.id,"processing"),className:"text-green-500 hover:text-green-700 mr-2",children:"Procesar"}),"processing"===a.status&&(0,b.jsx)("button",{onClick:()=>j(a.id,"shipped"),className:"text-green-500 hover:text-green-700 mr-2",children:"Enviar"}),"shipped"===a.status&&(0,b.jsx)("button",{onClick:()=>j(a.id,"delivered"),className:"text-green-500 hover:text-green-700 mr-2",children:"Entregar"}),(0,b.jsx)("button",{className:"text-red-500 hover:text-red-700",children:"Cancelar"})]})]},a.id))})]})})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=apps_web_app_admin_orders_page_cdb169a6.js.map