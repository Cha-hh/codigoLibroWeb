{"version":3,"sources":["../../../../../../apps/web/app/admin/orders/page.js"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\n\nexport default function Orders() {\n  const [orders, setOrders] = useState([])\n  const [filterType, setFilterType] = useState('')\n  const [filterStatus, setFilterStatus] = useState('')\n\n  useEffect(() => {\n    loadOrders()\n  }, [])\n\n  const loadOrders = () => {\n    const storedOrders = localStorage.getItem('orders')\n    if (storedOrders) {\n      setOrders(JSON.parse(storedOrders))\n    }\n  }\n\n  const updateOrderStatus = (orderId, newStatus) => {\n    const updatedOrders = orders.map(order =>\n      order.id === orderId ? { ...order, status: newStatus } : order\n    )\n    setOrders(updatedOrders)\n    localStorage.setItem('orders', JSON.stringify(updatedOrders))\n  }\n\n  const filteredOrders = orders.filter(order => {\n    const matchesType = !filterType || (filterType === 'physical' && order.physical > 0) || (filterType === 'digital' && order.digital > 0)\n    const matchesStatus = !filterStatus || order.status === filterStatus\n    return matchesType && matchesStatus\n  })\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'pending': return 'bg-yellow-100 text-yellow-800'\n      case 'processing': return 'bg-blue-100 text-blue-800'\n      case 'shipped': return 'bg-green-100 text-green-800'\n      case 'delivered': return 'bg-gray-100 text-gray-800'\n      default: return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold mb-6\">Gestión de Pedidos</h1>\n\n        {/* Filtros */}\n        <div className=\"mb-6 flex space-x-4\">\n          <select\n            value={filterType}\n            onChange={(e) => setFilterType(e.target.value)}\n            className=\"border border-gray-300 rounded px-4 py-2\"\n          >\n            <option value=\"\">Todos los tipos</option>\n            <option value=\"physical\">Libro Físico</option>\n            <option value=\"digital\">Libro Digital</option>\n          </select>\n          <select\n            value={filterStatus}\n            onChange={(e) => setFilterStatus(e.target.value)}\n            className=\"border border-gray-300 rounded px-4 py-2\"\n          >\n            <option value=\"\">Todos los estados</option>\n            <option value=\"pending\">Pendiente</option>\n            <option value=\"processing\">Procesando</option>\n            <option value=\"shipped\">Enviado</option>\n            <option value=\"delivered\">Entregado</option>\n          </select>\n        </div>\n\n        {/* Tabla de pedidos */}\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <table className=\"w-full table-auto border-collapse\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">ID</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Cliente</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Productos</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Estado</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Fecha</th>\n                <th className=\"border border-gray-300 px-4 py-2 text-left\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {filteredOrders.length === 0 ? (\n                <tr>\n                  <td colSpan=\"6\" className=\"border border-gray-300 px-4 py-8 text-center text-gray-500\">\n                    No hay pedidos que coincidan con los filtros.\n                  </td>\n                </tr>\n              ) : (\n                filteredOrders.map((order) => (\n                  <tr key={order.id}>\n                    <td className=\"border border-gray-300 px-4 py-2\">{order.id}</td>\n                    <td className=\"border border-gray-300 px-4 py-2\">{order.shipping?.name || 'N/A'}</td>\n                    <td className=\"border border-gray-300 px-4 py-2\">\n                      {order.physical > 0 && `Físico: ${order.physical}`}\n                      {order.physical > 0 && order.digital > 0 && ', '}\n                      {order.digital > 0 && `Digital: ${order.digital}`}\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-2\">\n                      <span className={`px-2 py-1 rounded ${getStatusColor(order.status)}`}>\n                        {order.status === 'pending' ? 'Pendiente' :\n                         order.status === 'processing' ? 'Procesando' :\n                         order.status === 'shipped' ? 'Enviado' : 'Entregado'}\n                      </span>\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-2\">\n                      {new Date(order.createdAt).toLocaleDateString()}\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-2\">\n                      <a href={`/admin/orders/${order.id}`} className=\"text-blue-500 hover:text-blue-700 mr-2\">Ver</a>\n                      {order.status === 'pending' && (\n                        <button\n                          onClick={() => updateOrderStatus(order.id, 'processing')}\n                          className=\"text-green-500 hover:text-green-700 mr-2\"\n                        >\n                          Procesar\n                        </button>\n                      )}\n                      {order.status === 'processing' && (\n                        <button\n                          onClick={() => updateOrderStatus(order.id, 'shipped')}\n                          className=\"text-green-500 hover:text-green-700 mr-2\"\n                        >\n                          Enviar\n                        </button>\n                      )}\n                      {order.status === 'shipped' && (\n                        <button\n                          onClick={() => updateOrderStatus(order.id, 'delivered')}\n                          className=\"text-green-500 hover:text-green-700 mr-2\"\n                        >\n                          Entregar\n                        </button>\n                      )}\n                      <button className=\"text-red-500 hover:text-red-700\">Cancelar</button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}