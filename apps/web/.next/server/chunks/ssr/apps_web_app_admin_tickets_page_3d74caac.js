module.exports=[13990,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)("");(0,c.useEffect)(()=>{q(),r()},[]);let q=()=>{let a=localStorage.getItem("bookQuestions");a&&d(JSON.parse(a))},r=()=>{let a=localStorage.getItem("faq");a&&f(JSON.parse(a))},s=(b,c)=>{let e=a.map(a=>a.id===b?{...a,status:c}:a);d(e),localStorage.setItem("bookQuestions",JSON.stringify(e))},t=a.filter(a=>{let b=!g||a.type===g,c=!i||a.status===i;return b&&c});return(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Gestión de Preguntas del Libro"}),(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Preguntas Recibidas"}),(0,b.jsxs)("div",{className:"mb-6 flex space-x-4",children:[(0,b.jsxs)("select",{value:g,onChange:a=>h(a.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[(0,b.jsx)("option",{value:"",children:"Todos los tipos"}),(0,b.jsx)("option",{value:"pregunta",children:"Pregunta sobre el libro"}),(0,b.jsx)("option",{value:"duda",children:"Duda general"}),(0,b.jsx)("option",{value:"soporte",children:"Soporte técnico"})]}),(0,b.jsxs)("select",{value:i,onChange:a=>j(a.target.value),className:"border border-gray-300 rounded px-4 py-2",children:[(0,b.jsx)("option",{value:"",children:"Todos los estados"}),(0,b.jsx)("option",{value:"abierto",children:"Abierto"}),(0,b.jsx)("option",{value:"respondido",children:"Respondido"}),(0,b.jsx)("option",{value:"cerrado",children:"Cerrado"})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:0===t.length?(0,b.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No hay preguntas que coincidan con los filtros."}):t.map(a=>(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold",children:[a.name," - ",a.question]}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Email: ",a.email]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:new Date(a.createdAt).toLocaleString()})]}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-sm ${(a=>{switch(a){case"abierto":return"bg-red-100 text-red-800";case"respondido":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(a.status)}`,children:"abierto"===a.status?"Abierto":"respondido"===a.status?"Respondido":"Cerrado"})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:()=>{n(a),p(""),l(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Responder y Agregar a FAQ"}),(0,b.jsx)("button",{onClick:()=>s(a.id,"respondido"),className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Marcar como Respondido"}),(0,b.jsx)("button",{onClick:()=>s(a.id,"cerrado"),className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cerrar"})]})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Preguntas Frecuentes (FAQ)"}),(0,b.jsx)("div",{className:"space-y-4",children:0===e.length?(0,b.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No hay preguntas frecuentes aún."}):e.map(a=>(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:a.question}),(0,b.jsx)("textarea",{value:a.answer,onChange:b=>{var c,d;let g;return c=a.id,d=b.target.value,void(f(g=e.map(a=>a.id===c?{...a,answer:d}:a)),localStorage.setItem("faq",JSON.stringify(g)))},className:"w-full p-2 border border-gray-300 rounded",rows:"3",placeholder:"Escribe la respuesta..."}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Creado: ",new Date(a.createdAt).toLocaleDateString()]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{onClick:()=>{var b;let c;return b=a.id,void(f(c=e.filter(a=>a.id!==b)),localStorage.setItem("faq",JSON.stringify(c)))},className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Eliminar FAQ"})})]},a.id))})]}),k&&m&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-2xl w-full mx-4",children:[(0,b.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Responder Pregunta"}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsxs)("h4",{className:"font-semibold mb-2",children:["Pregunta de ",m.name,":"]}),(0,b.jsx)("p",{className:"bg-gray-100 p-3 rounded",children:m.question})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tu Respuesta:"}),(0,b.jsx)("textarea",{value:o,onChange:a=>p(a.target.value),className:"w-full p-3 border border-gray-300 rounded",rows:"6",placeholder:"Escribe una respuesta detallada..."})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,b.jsx)("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancelar"}),(0,b.jsx)("button",{onClick:()=>{if(!m||!o.trim())return;let a=[...e,{id:Date.now(),question:m.question,answer:o.trim(),createdAt:new Date().toISOString()}];f(a),localStorage.setItem("faq",JSON.stringify(a)),s(m.id,"respondido"),l(!1),n(null),p("")},disabled:!o.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-400",children:"Agregar a FAQ y Responder"})]})]})})]})}a.s(["default",()=>d])}];

//# sourceMappingURL=apps_web_app_admin_tickets_page_3d74caac.js.map